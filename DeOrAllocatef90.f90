
SUBROUTINE DeOrAllocate(Sgn)
!-------------------------------------------------------------------------------------------
                                                                               USE Source
                                                                               USE GravityField
                                                                               USE ObserPoint
                                                                               USE Const
                                                                               USE Gauss
  IMPLICIT NONE

  INTEGER(KIND=4) :: Sgn
!-------------------------------------------------------------------------------------------  
  
  
  
                                   
                !-------------------------------------------------------------
                IF(Sgn==1) THEN
                    !---------------------------------------------------------
                    ALLOCATE(AP1(NG1));                  AP1(:)=0.D0
                    ALLOCATE(TP1(NG1));                  TP1(:)=0.D0
                    ALLOCATE(AP2(NG2));                  AP2(:)=0.D0
                    ALLOCATE(TP2(NG2));                  TP2(:)=0.D0
                    !---------------------------------------------------------
                    ALLOCATE(APX(NG1*NG2));              APX(:)=0.D0
                    !---------------------------------------------------------
                    ALLOCATE(GV(NPR,NPF,NPL));           GV(:,:,:)=0.D0
                    ALLOCATE(GA(3,NPR,NPF,NPL));         GA(:,:,:,:)=0.D0
                    ALLOCATE(GG(6,NPR,NPF,NPL));         GG(:,:,:,:)=0.D0
                    !---------------------------------------------------------
                    ALLOCATE(GV0(NPR,NPF,NPL));          GV0(:,:,:)=0.D0
                    ALLOCATE(GA0(3,NPR,NPF,NPL));        GA0(:,:,:,:)=0.D0
                    ALLOCATE(GG0(6,NPR,NPF,NPL));        GG0(:,:,:,:)=0.D0
                    !---------------------------------------------------------
                END IF
                !-------------------------------------------------------------
                
                
                                  
                !-------------------------------------------------------------
                IF(Sgn==0) THEN
                    !---------------------------------------------------------
                    DEALLOCATE(SR,SF,SL,PR,PF,PL,dSR,dSF,NR,NP,Ro)
                    !---------------------------------------------------------
                    DEALLOCATE(AP1,TP1,AP2,TP2,APX,GV,GA,GG,GV0,GA0,GG0)
                    !---------------------------------------------------------
                END IF
                !-------------------------------------------------------------
  
  
  
!-------------------------------------------------------------------------------------------
                                                                                    RETURN
END SUBROUTINE
!===========================================================================================